<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Online Shopping Website</title>

<!-- ================= CSS ================= -->
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif}
body{background:#f4f6f9}
header{background:#0f172a;color:#fff;padding:15px;display:flex;align-items:center;gap:10px}
header h1{flex:1}
header input{padding:8px;width:200px;border-radius:5px;border:none}
header button{padding:8px 12px;border:none;border-radius:5px;background:#22c55e;color:#fff;cursor:pointer}

.products{padding:20px;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}
.product{background:#fff;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,.1);overflow:hidden;display:flex;flex-direction:column}
.product img{width:100%;height:180px;object-fit:cover}
.product .info{padding:15px;flex:1}
.product h3{margin-bottom:5px}
.product p{font-size:14px;color:#555;margin-bottom:10px}
.price{font-weight:bold;margin-bottom:10px}
.product button{background:#2563eb;color:#fff;border:none;padding:10px;border-radius:5px;cursor:pointer;width:100%}
.product button:hover{background:#1d4ed8}

.cart{position:fixed;top:0;right:-100%;width:320px;height:100%;background:#fff;box-shadow:-4px 0 10px rgba(0,0,0,.2);padding:20px;transition:.3s;overflow-y:auto}
.cart.show{right:0}
.cart h2{margin-bottom:10px}
.cart-item{display:flex;justify-content:space-between;margin-bottom:8px}
.cart-item button{padding:2px 6px}
.total{font-size:18px;font-weight:bold;margin:10px 0}
.cart button.checkout{background:#22c55e;color:#fff;border:none;padding:10px;border-radius:5px;width:100%;margin-bottom:5px}
.cart button.close{background:#ef4444;color:#fff;border:none;padding:8px;border-radius:5px;width:100%}

footer{text-align:center;padding:15px;background:#e5e7eb;margin-top:20px}
</style>
</head>
<body>

<!-- ================= HEADER ================= -->
<header>
  <h1>My Online Shop</h1>
  <input type="text" id="search" placeholder="Search products">
  <button onclick="toggleCart()">Cart (<span id="cartCount">0</span>)</button>
</header>

<!-- ================= PRODUCTS ================= -->
<section class="products" id="productList"></section>

<!-- ================= CART ================= -->
<div class="cart" id="cart">
  <h2>Your Cart</h2>
  <div id="cartItems"></div>
  <div class="total">Total: ₹<span id="total">0</span></div>
  <button class="checkout" onclick="checkout()">Checkout</button>
  <button class="close" onclick="toggleCart()">Close</button>
</div>

<footer>
  <p>Advanced Online Shopping Website | HTML • CSS • JavaScript</p>
</footer>

<!-- ================= JAVASCRIPT ================= -->
<script>
const products = [
 {id:1,name:"Smartphone",price:15000,desc:"Latest Android smartphone",img:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9"},
 {id:2,name:"Laptop",price:55000,desc:"High performance laptop",img:"https://images.unsplash.com/photo-1517336714731-489689fd1ca8"},
 {id:3,name:"Headphones",price:2500,desc:"Noise cancelling headphones",img:"https://images.unsplash.com/photo-1519677100203-a0e668c92439"},
 {id:4,name:"Smart Watch",price:4000,desc:"Fitness smart watch",img:"https://images.unsplash.com/photo-1516574187841-cb9cc2ca948b"}
];

let cart = JSON.parse(localStorage.getItem("cart")) || [];

const productList = document.getElementById("productList");
const cartBox = document.getElementById("cart");
const cartItems = document.getElementById("cartItems");
const cartCount = document.getElementById("cartCount");
const totalEl = document.getElementById("total");
const search = document.getElementById("search");

function renderProducts(data=products){
 productList.innerHTML="";
 data.forEach(p=>{
  productList.innerHTML += `
   <div class="product">
     <img src="${p.img}" alt="${p.name}">
     <div class="info">
       <h3>${p.name}</h3>
       <p>${p.desc}</p>
       <div class="price">₹${p.price}</div>
       <button onclick="addToCart(${p.id})">Add to Cart</button>
     </div>
   </div>`;
 });
}

function addToCart(id){
 let item = cart.find(i=>i.id===id);
 if(item) item.qty++;
 else{
  const p = products.find(x=>x.id===id);
  cart.push({...p,qty:1});
 }
 updateCart();
}

function updateCart(){
 localStorage.setItem("cart",JSON.stringify(cart));
 cartItems.innerHTML="";
 let total=0;
 cart.forEach((i,idx)=>{
  total += i.price*i.qty;
  cartItems.innerHTML += `<div class='cart-item'>
    <span>${i.name} x ${i.qty}</span>
    <div>
      <button onclick='changeQty(${idx},1)'>+</button>
      <button onclick='changeQty(${idx},-1)'>-</button>
    </div>
  </div>`;
 });
 cartCount.innerText = cart.reduce((a,b)=>a+b.qty,0);
 totalEl.innerText = total;
}

function changeQty(index,val){
 cart[index].qty += val;
 if(cart[index].qty<=0) cart.splice(index,1);
 updateCart();
}

function toggleCart(){cartBox.classList.toggle("show")}

function checkout(){
 if(cart.length===0){alert("Cart is empty");return;}
 alert("Order placed successfully! (Demo)");
 cart=[];updateCart();toggleCart();
}

search.oninput = e =>{
 const value = e.target.value.toLowerCase();
 renderProducts(products.filter(p=>p.name.toLowerCase().includes(value)));
}

renderProducts();updateCart();
</script>
</body>
</html>
